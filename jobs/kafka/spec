---
name: kafka

packages:
  - kafka
  - java7
  - kafka-riemann-reporter

templates:
  bin/monit_debugger: bin/monit_debugger
  bin/kafka_ctl: bin/kafka_ctl
  config/log4j.properties.erb: config/log4j.properties
  config/server.properties.erb: config/server.properties
  data/properties.sh.erb: data/properties.sh
  helpers/ctl_setup.sh: helpers/ctl_setup.sh
  helpers/ctl_utils.sh: helpers/ctl_utils.sh

properties:
  kafka.zookeeper.connect:
    description: Zookeeper connection string
  kafka.port:
    description: The port the socket server listens on
    default: 9092
  kafka.index_offset:
    description: "Offset value to add to the spec.index"
    default: 0
  kafka.log.dirs:
    description: Directory under which to store log files
    default: /var/vcap/store/kafka
  kafka.log_flush:
    description: The maximum amount of time a message can sit in a log before we force a flush
    default: 500
  kafka.retention_hours:
    description: The minimum age of a log file to be eligible for deletion
    default: 168
  networks.apps:
    description: "Used to get our IP address"
